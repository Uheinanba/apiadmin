1. mvc 架构模式理解
这个模式认为程序无论简单还是复杂都可以分层三层
- 最上面一层，直接面向用户的视图层View。提供给用户的操作界面是程序的外壳
- 最底下的一层，是核心的数据层Model，也就是程序需要的数据或者信息
- 中间的一层，就是控制层Controller, 它负责根据用户从“视图层“输入的指令，选取”数据层“中的数据，然后对其进行相应的操作，最终产生结果。

这三层紧密联系在一起，但是又是相互独立的，每一层的内部变化都不影响其他层。每一层都对外提供接口Interface,供上一层调用，这样一来，软件可以实现模块化，修改外观或者变更数据都不影响其他层，方便维护和升级。

1. MVC 的问题
- 在C层直接实现业务逻辑,这将导致:
  - 不同的controller之间, 无法共享通用的业务逻辑,比如:折扣计算, 反作弊判定,这必然是不合理的。
  - 业务逻辑的升级，需要直接带原代码上做兼容修改,导致controller代码不断的膨胀复杂。
- 在M层实现业务逻辑这里将导致:
  - model承担过多的业务逻辑，导致业务逻辑升级需要修改model, 但是model的职责并不是业务,这很矛盾。
  - 调用一个model中的业务代码没有问题，但是遇到跨表事务又该由哪个model管理?
问题的本质是: 业务逻辑粘连了C层和M层，应该从C层和M层解耦出来，成为独立的service层。由此在C层可以灵活的替换Service保持高度的简洁，而M层保持职责单一仅仅为Service提供数据，Service层，则实现所有复杂的业务逻辑和通用的业务逻辑。

- Service层的职责
根据上面的分析,Service夹在C层和M层中间，从逻辑上大致分为3大类:
1. model侧的Service:也就是封装每个model与业务相关的通用数据,比如: 查询订单。
2. 中间的Service,封装通用的业务逻辑，比如:计算订单折扣
3. controller侧的service:基于1，2的service进一步封装对外的用户业务逻辑，当然也不排斥直接访问DAO而不使用上述的2个Service

在实践中，会很自然的用到这三类的service，在了解这些概念之后再进行代码设计，就不会对Service的职责产生困惑。

### 关于抽象
controller里调用"controller侧的Service"直接完成业务处理，意味这Controller依赖了具体是哪个Service。
Service里调用”DAO/AR“实现数据库的访问，意味着Service依赖具体是哪个“DAO/Service“类。
Service里调用Service，意味着Service依赖了具体的哪个Service类。
